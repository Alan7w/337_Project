<!DOCTYPE html>
<html lang="en">
<head>
    <title>My Profile - Tech E-commerce</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/profile.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">Tech E-commerce</div>
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="/products">Products</a>
                <a href="/cart" class="logged-in-nav">Cart <span id="cartCount" class="cart-count"></span></a>
                <a href="/profile" class="active logged-in-nav">Profile</a>
                <a href="/auth/logout" class="logged-in-nav">Logout</a>
            </div>
        </nav>
    </header>
    
    <main>
        <div class="container">
            <div id="messageBox" class="message"></div>
            
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="user-avatar">
                        <div class="avatar-circle">
                            <span class="initials" id="userInitials">JS</span>
                        </div>
                    </div>
                    <div class="user-name" id="sidebarUsername">John Smith</div>
                    <div class="user-since">Member since <span id="memberSince">Jan 1, 2025</span></div>
                    
                    <ul class="profile-nav">
                        <li class="active" data-tab="account-info">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M4 22a8 8 0 1 1 16 0H4zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="currentColor"/></svg>
                            Account Info
                        </li>
                        <li data-tab="order-history">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 2.003V2h10.998C20.55 2 21 2.455 21 2.992v18.016a.993.993 0 0 1-.993.992H3.993A1 1 0 0 1 3 20.993V8l6-5.997zM5.83 8H9V4.83L5.83 8zM11 4v5a1 1 0 0 1-1 1H5v10h14V4h-8z" fill="currentColor"/></svg>
                            Order History
                        </li>
                        <li data-tab="wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.001 4.529c2.349-2.109 5.979-2.039 8.242.228 2.262 2.268 2.34 5.88.236 8.236l-8.48 8.492-8.478-8.492c-2.104-2.356-2.025-5.974.236-8.236 2.265-2.264 5.888-2.34 8.244-.228zm6.826 1.641c-1.5-1.502-3.92-1.563-5.49-.153l-1.335 1.198-1.336-1.197c-1.575-1.412-3.99-1.35-5.494.154-1.49 1.49-1.565 3.875-.192 5.451L12 18.654l7.02-7.03c1.374-1.577 1.299-3.959-.193-5.454z" fill="currentColor"/></svg>
                            Wishlist
                        </li>
                        <li data-tab="settings">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M9.954 2.21a9.99 9.99 0 0 1 4.091-.002A3.993 3.993 0 0 0 16 5.07a3.993 3.993 0 0 0 3.457.261A9.99 9.99 0 0 1 21.5 8.876 3.993 3.993 0 0 0 20 12a3.99 3.99 0 0 0 1.502 3.124 10.043 10.043 0 0 1-2.046 3.543 3.993 3.993 0 0 0-3.456.261 3.993 3.993 0 0 0-1.954 2.86 9.99 9.99 0 0 1-4.091.004A3.993 3.993 0 0 0 8 18.927a3.993 3.993 0 0 0-3.457-.26A9.99 9.99 0 0 1 2.5 15.121 3.993 3.993 0 0 0 4 11.999a3.993 3.993 0 0 0-1.502-3.124 10.043 10.043 0 0 1 2.046-3.543A3.993 3.993 0 0 0 8 5.071a3.993 3.993 0 0 0 1.954-2.86zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill="currentColor"/></svg>
                            Settings
                        </li>
                    </ul>
                </div>
                
                <div class="profile-content">
                    <!-- Account Info Tab -->
                    <div class="profile-tab active" id="account-info">
                        <div class="tab-header">
                            <h2>Account Information</h2>
                            <button id="editInfoBtn" class="btn btn-secondary">Edit</button>
                        </div>
                        
                        <div class="profile-info" id="viewMode">
                            <div class="info-group">
                                <label>Username:</label>
                                <span id="username">username</span>
                            </div>
                            
                            <div class="info-group">
                                <label>Email:</label>
                                <span id="email">user@example.com</span>
                            </div>
                            
                            <div class="info-group">
                                <label>Account Type:</label>
                                <span id="accountType">Regular User</span>
                            </div>
                        </div>
                        
                        <div class="profile-form" id="editMode" style="display: none;">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label for="editUsername">Username:</label>
                                    <input type="text" id="editUsername" name="username" required>
                                    <small class="form-text">Username must be at least 3 characters and contain only letters, numbers, and underscores.</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editEmail">Email:</label>
                                    <input type="email" id="editEmail" name="email" required>
                                </div>
                                
                                <div class="button-group">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                    <button type="button" id="cancelButton" class="btn btn-secondary">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <!-- Order History Tab -->
                    <div class="profile-tab" id="order-history">
                        <div class="tab-header">
                            <h2>Order History</h2>
                        </div>
                        
                        <div class="order-list" id="orderList">
                            <div class="loading">Loading your orders...</div>
                        </div>
                    </div>
                    
                    <!-- Wishlist Tab -->
                    <div class="profile-tab" id="wishlist">
                        <div class="tab-header">
                            <h2>My Wishlist</h2>
                        </div>
                        
                        <div class="wishlist-container">
                            <div class="empty-wishlist">
                                <div class="empty-wishlist-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="80" height="80"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.001 4.529c2.349-2.109 5.979-2.039 8.242.228 2.262 2.268 2.34 5.88.236 8.236l-8.48 8.492-8.478-8.492c-2.104-2.356-2.025-5.974.236-8.236 2.265-2.264 5.888-2.34 8.244-.228zm6.826 1.641c-1.5-1.502-3.92-1.563-5.49-.153l-1.335 1.198-1.336-1.197c-1.575-1.412-3.99-1.35-5.494.154-1.49 1.49-1.565 3.875-.192 5.451L12 18.654l7.02-7.03c1.374-1.577 1.299-3.959-.193-5.454z" fill="currentColor"/></svg>
                                </div>
                                <h3>Your wishlist is empty</h3>
                                <p>Browse our products and add items to your wishlist</p>
                                <a href="/products" class="btn btn-primary">Browse Products</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Settings Tab -->
                    <div class="profile-tab" id="settings">
                        <div class="tab-header">
                            <h2>Account Settings</h2>
                        </div>
                        
                        <div class="settings-section">
                            <h3>Change Password</h3>
                            <form id="passwordForm">
                                <div class="form-group">
                                    <label for="currentPassword">Current Password:</label>
                                    <div class="input-field">
                                        <input type="password" id="currentPassword" name="currentPassword" required>
                                        <span class="input-icon password-toggle" id="currentPasswordToggle">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="show-password"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" fill="#888"/></svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="hide-password" style="display: none;"><path fill="none" d="M0 0h24v24H0z"/><path d="M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084l1.694 1.694a2.5 2.5 0 0 0-1.694-1.694z" fill="#888"/></svg>
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="newPassword">New Password:</label>
                                    <div class="input-field">
                                        <input type="password" id="newPassword" name="newPassword" required>
                                        <span class="input-icon password-toggle" id="newPasswordToggle">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="show-password"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" fill="#888"/></svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="hide-password" style="display: none;"><path fill="none" d="M0 0h24v24H0z"/><path d="M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084l1.694 1.694a2.5 2.5 0 0 0-1.694-1.694z" fill="#888"/></svg>
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm New Password:</label>
                                    <div class="input-field">
                                        <input type="password" id="confirmPassword" name="confirmPassword" required>
                                        <span class="input-icon password-toggle" id="confirmPasswordToggle">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="show-password"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" fill="#888"/></svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="hide-password" style="display: none;"><path fill="none" d="M0 0h24v24H0z"/><path d="M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084l1.694 1.694a2.5 2.5 0 0 0-1.694-1.694z" fill="#888"/></svg>
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="password-requirements" id="passwordRequirements">
                                    <p class="requirements-title">Password requirements:</p>
                                    <ul>
                                        <li id="pw-length" class="requirement">At least 8 characters</li>
                                        <li id="pw-uppercase" class="requirement">At least one uppercase letter</li>
                                        <li id="pw-lowercase" class="requirement">At least one lowercase letter</li>
                                        <li id="pw-number" class="requirement">At least one number</li>
                                        <li id="pw-match" class="requirement">Passwords match</li>
                                    </ul>
                                </div>
                                
                                <div class="button-group">
                                    <button type="submit" class="btn btn-primary">Change Password</button>
                                </div>
                                
                                <div id="passwordError" class="error-message"></div>
                            </form>
                        </div>
                        
                        <div class="settings-section danger-zone">
                            <h3>Danger Zone</h3>
                            <button id="deleteAccountBtn" class="btn btn-danger">Delete Account</button>
                            <p class="warning-text">This action cannot be undone. This will permanently delete your account and all associated data.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Tech E-commerce</h3>
                    <p>Your one-stop shop for all tech needs</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/products">Products</a></li>
                        <li><a href="/profile">My Account</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p>Email: support@teche-commerce.com</p>
                    <p>Phone: (123) 456-7890</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Tech E-commerce. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="../js/profile.js"></script>
</body>
</html>